pipeline{
 agent any
   stages
   {
      stages('compile stage')
      {
        steps{
               withMaven(maven:'maven-3.6')
               {
               sh 'mvn clean install'
               }
             }
       }

       stages('Testing stage')
             {
               steps{
                      withMaven(maven:'maven-3.6')
                      {
                      sh 'mvn test'
                      }
                    }
              }
        stages('Deploy stage')
              {
                steps{
                       withMaven(maven:'maven-3.6')
                       {
                       sh 'mvn deploy'
                       }
                     }
               }
   }
}
